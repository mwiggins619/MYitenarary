(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(19),i=a.n(o),l=(a(100),a(17)),c=a(32),s=a(8),m=a(9),u=a(11),p=a(10),h=a(12),d=(a(101),a(78)),f=a.n(d),E=a(79),g=a.n(E),v=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.cities;return r.a.createElement("div",null,r.a.createElement(g.a,{breakpoints:[{breakpoint:500,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}}],dots:!0,showSides:!0,sidesOpacity:.5,sideSize:.1,slidesToScroll:4,slidesToShow:4,scrollOnDevice:!0},e.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h6",{className:"carsoulName card-title"},e.name),r.a.createElement("img",{className:"imgCarsoul rounded d-block w-100",src:e.picture,alt:"city"}))}))))}}]),t}(n.Component),b=a(22),y=a.n(b),C=a(46),O=a.n(C),N=function(e){return function(t){y.a.post("http://localhost:5000/api/users/login",e).then((function(e){if(console.log("response",e.data.token),200===e.status){var a=e.data.token;console.log(a),localStorage.setItem("token",e.data.token);var n=O()(a);t({type:"LOGIN_SUCCESS",payload:n,token:e.data.token})}})).catch((function(e){e.response&&409===e.response.status&&alert("loggin error")}))}},j=function(){return function(e){fetch("http://localhost:5000/api/cities/all").then((function(e){return e.json()})).then((function(t){e({type:"FETCH_CITIES_SUCCESS",payload:t})})).catch((function(t){e({type:"FETCH_CITIES_ERROR",payload:t})}))}},S=a(13),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={cities:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCitiesAction(),console.log(this.props.location);var e=this.props.location.search.split("=")[1];e&&(this.props.googleAuth(e),console.log(e))}},{key:"render",value:function(){var e=this.props.cities;return r.a.createElement("div",{className:"container-fluied "},r.a.createElement("header",{className:"col-12 header"},r.a.createElement("section",{className:"container-for-header-text col-12"},r.a.createElement("div",{className:"header-text-wrapper col-sm-12"},r.a.createElement("h1",null,"My Itinerary"),r.a.createElement("p",null,"make your trip with Love")))),r.a.createElement("div",{className:"transperant"},r.a.createElement("p",{className:"pt-4 textSize col-sm-12 "},"Find your perfect trip ,designed by insiders who know their cities"," "),r.a.createElement("h1",{className:"textSize mt-4 col-sm-12 "},"Start Browing"),r.a.createElement(l.b,{to:"/Cities"},r.a.createElement("img",{src:f.a,alt:"looking",className:"circle"})),r.a.createElement("p",{className:"mt-4 textSize col-sm-12"},"Want to build your own Itinerary ?"),e.length>0&&r.a.createElement(v,{cities:e})))}}]),t}(n.Component),I=Object(S.b)((function(e,t){return console.log("state",e),{cities:e.cities.cities}}),(function(e){return{fetchCitiesAction:function(t){return e(j())},googleAuth:function(t){return e(function(e){return function(t){localStorage.setItem("token",e),t({type:"LOGIN_SUCCESS",payload:O()(e),token:e})}}(t))}}}))(k),w=a(24),F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handelChange=function(t){console.log(t),e.setState(Object(w.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){if(t.preventDefault(),""===e.state.name||""===e.state.email||""===e.state.password)alert("You should fill all the fields");else{var a={name:e.state.name,email:e.state.email,password:e.state.password,picture:e.state.picture};e.props.register(a)}},e.state={users:{name:"",email:"",password:"",picture:""}},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h5",{className:"card-title"},"Sign Up"),r.a.createElement("form",{className:"form-group",onSubmit:this.handelSubmit},r.a.createElement("div",{className:"row block"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",onChange:this.handelChange})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{htmlFor:"email"},"email"),r.a.createElement("input",{type:"text",id:"email",onChange:this.handelChange}))),r.a.createElement("div",{className:"row block"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{htmlFor:"password"},"password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handelChange})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{htmlFor:"picture"},"picture"),r.a.createElement("input",{type:"picture",id:"picture",onChange:this.handelChange}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",null,"Sign Up"))))}}]),t}(n.Component),R=Object(S.b)((function(e,t){return{user:e.users}}),(function(e){return{register:function(t){return e(function(e){return function(t){y.a.post("http://localhost:5000/api/users/register",e).then((function(e){if(console.log("response",e),200===e.status){var a=e.data.token;localStorage.setItem("token",a),console.log("token",a);var n=O()(a);t({type:"LOGIN_SUCCESS",payload:n,token:e.data.token})}})).catch((function(e){console.log("error"+e.response),e.response&&(409===e.response.status?alert("Register error"):alert("Be Sure From Your Register"))}))}}(t))}}}))(F),T=a(37),A=a(82),_=a(81),D=function(e){return console.log("city",e),function(t){fetch("http://localhost:5000/api/itineraries/all/"+e).then((function(e){return e.json()})).then((function(e){console.log("json :",e),t({type:"FETCH_ITINERARIES_SUCCESS",payload:e})})).catch((function(e){t({type:"FETCH_ITINERARIES_ERROR",payload:e})}))}},x=function(e,t,a){return function(n){y.a.post("http://localhost:5000/api/itineraries/".concat(t,"/favorites"),{email:e}).then((function(e){console.log("response",e),200===e.status&&(n({type:"ADD_ITINERARY_FAVORITE"}),n(D(a)))})).catch((function(e){console.log("error"+e.response),e.response&&(409===e.response.status?alert("problem with email"):alert("Be Sure From Your email and link"))}))}},L=function(e,t,a){return function(n){y.a.post("http://localhost:5000/api/itineraries/".concat(t,"/deletefavorites"),{email:e}).then((function(e){console.log("response",e),200===e.status&&(n({type:"DELETE_ITINERARY_FAVORITE"}),n(D(a)))})).catch((function(e){console.log("error "+e.response),e.response&&(409===e.response.status?alert("problem with email"):alert("Be Sure From Your email and link at delete fav"))}))}},U=a(44),M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handelFavorite=function(e,t){if(null==a.props.users.email)alert("you need to log in");else{var n=a.props.user.email;a.props.fetchItinerariesFavorite(n,e,t)}},a.handelDeleteFavorite=function(e,t){var n=a.props.users.email;console.log("emailAdded",n),a.props.fetchItinerariesDeleteFavorite(n,e,t)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.users.favorites;console.log("ids",e),this.props.fetchProfileFavorites(e)}},{key:"render",value:function(){var e=this,t=this.props.itineraries.favoriteitineraries;console.log("itineraries",t);var a=this.props.users.email;return console.log("from userAccount",this.props.users),r.a.createElement("div",{className:"container"},t&&t.map((function(t,n){return r.a.createElement("div",{key:n,itinerary:t},r.a.createElement("div",{className:"container m-2 itinerary rounded",key:n,itinerary:t},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("h4",{className:"card-title pt-3 text-light col-6"},"Activities in ",t.name," : ",t.activities),r.a.createElement(T.a,{className:"pt-3",icon:U.a,size:"3x",style:t.favorites.includes(a)?{color:"red"}:{color:"#3986c3"},onClick:function(){return t.favorites.includes(a)?e.handelDeleteFavorite(t._id,t.name):e.handelFavorite(t._id,t.name)}})),r.a.createElement("img",{className:"card-body",src:t.profile,alt:t.name}),r.a.createElement("div",{className:"text-light pb-3"},r.a.createElement("h4",null,"The Price for ",t.duration," With Hotels"," ",t.price))))})))}}]),t}(n.Component),Y=Object(S.b)((function(e,t){return console.log("state",e),{users:e.users,itineraries:e.itineraries}}),(function(e){return{login:function(t){return e(N(t))},fetchProfileFavorites:function(t){return e(function(e){return console.log("ids",e),function(t){y.a.post("http://localhost:5000/api/itineraries/userfavorites",{ids:e}).then((function(e){console.log("response",e),200===e.status&&t({type:"FETCH_PROFILE_ITINERARY",payload:e.data})})).catch((function(e){console.log("error"+e.response),e.response&&(409===e.response.status?alert("problem with email"):alert("error from profile action itinerary"))}))}}(t))},fetchItinerariesFavorite:function(t,a,n){return e(x(t,a,n))},fetchItinerariesDeleteFavorite:function(t,a,n){return e(L(t,a,n))}}}))(M),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handelChange=function(e){a.setState(Object(w.a)({},e.target.id,e.target.value))},a.handelSubmit=function(e){if(e.preventDefault(),""===a.state.email||""===a.state.password)return alert("you need to fill both field");var t={email:a.state.email,password:a.state.password};console.log(t),a.props.login(t)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"container"},this.props.user.isLoggedin?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{users:e})):r.a.createElement("form",{className:"form-horizontal",onSubmit:this.handelSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputEmail3",className:"col-sm-2 control-label"}),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"Email",onChange:this.handelChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputPassword3",className:"col-sm-2 control-label"}),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:this.handelChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-offset-2 col-sm-10 align-items-center"},r.a.createElement("button",null,"Sign in")))),r.a.createElement("div",{className:"col-sm-offset-2 col-sm-10 align-items-center"},r.a.createElement(_.a,{href:"http://localhost:5000/api/users/auth/google"},r.a.createElement(T.a,{icon:A.a,className:"mr-2 "}),"Sign In With Google")))}}]),t}(n.Component),z=Object(S.b)((function(e){return{user:e.users}}),(function(e){return{login:function(t){return e(N(t))}}}))(H),W=a(156),B=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handleChange=function(t){e.setState({search:t.target.value})},e.state={cities:[],search:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCitiesAction()}},{key:"cutArray",value:function(){return this.props.cities.map((function(e,t){return t<15}))}},{key:"filter",value:function(){var e=this;return this.props.cities?this.props.cities.filter((function(t,a){return t.name.toLowerCase().startsWith(e.state.search.toLowerCase())})):[]}},{key:"render",value:function(){var e=this.filter();return r.a.createElement("div",{className:"container-fluied "},r.a.createElement("div",{className:"justify-content-center col-sm-12 col-md-12 my-3 "},r.a.createElement("input",{placeholder:"Search for City:",className:"btn btn-outline-info mr-2",type:"search",id:"filter",value:this.state.search,onChange:this.handleChange}),r.a.createElement(l.b,{to:"/AddCity"},r.a.createElement("button",{className:"btn btn-outline-info"},"Add city you like"))),!this.props.cities&&r.a.createElement(W.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),e&&e.map((function(e,t){return r.a.createElement(l.b,{key:t,to:"itineraries/all/"+e.name},r.a.createElement("div",{city:e,className:"col-sm-12 col-md-12 city col-lg-3 justify-content-between container mx-2 "},r.a.createElement("div",{className:"card border-info "},r.a.createElement("h3",{className:"card-title"},e.name),r.a.createElement("img",{className:"card-img ",src:e.picture,alt:"city"}))))})))}}]),t}(n.Component),P=Object(S.b)((function(e,t){return{cities:e.cities.cities}}),(function(e){return{fetchCitiesAction:function(t){return e(j())}}}))(B),G=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handelChange=function(t){e.setState(Object(w.a)({},t.target.id,t.target.value))},e.handelSubmit=function(t){t.preventDefault(),console.log(t);var a={name:e.state.name,country:e.state.country,picture:e.state.picture},n=localStorage.getItem("token");e.props.fetchAddCity(a,n),console.log("submit",e.state)},e.state={name:null,country:null,picture:null},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.cities;this.props.fetchCitiesAction(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluied"},r.a.createElement("form",{onSubmit:this.handelSubmit,className:"App-header align-items-center"},r.a.createElement("div",{className:"d-block "},r.a.createElement("label",{className:"mx-2",htmlFor:"name"}," ","Name:"),r.a.createElement("input",{type:"text",id:"name",onChange:this.handelChange})),r.a.createElement("div",{className:"d-block"},r.a.createElement("label",{className:"mx-2",htmlFor:"country"}," ","Country:"),r.a.createElement("input",{type:"text",id:"country",onChange:this.handelChange})),r.a.createElement("div",{className:"d-block"},r.a.createElement("label",{className:"mx-2",htmlFor:"picture"},"Picture:"),r.a.createElement("input",{type:"url",id:"picture",onChange:this.handelChange})),r.a.createElement("div",{className:"d-block"},r.a.createElement("button",{className:"mx-2",type:"submit"},"Add New City"))))}}]),t}(n.Component),V=Object(S.b)((function(e,t){return{cities:e.cities.cities,user:e.users}}),(function(e){return{fetchAddCity:function(t,a){return e(function(e,t){return function(a){var n={headers:{Authorization:t}};y.a.post("http://localhost:5000/api/cities/",e,n).then((function(e){console.log("response",e),200===e.status&&(a({type:"ADD_CITY",token:t}),a(j()))})).catch((function(e){console.log("error"+e.response),e.response&&(409===e.response.status?alert("problem with email"):alert("Be Sure From Your email and link"))}))}}(t,a))},fetchCitiesAction:function(t){return e(j())}}}))(G),K=a(26),J=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(K.d,{className:" footer font-small"},r.a.createElement("div",{className:"footer-copyright text-center py-3"},r.a.createElement(K.c,{fluid:!0},"\xa9 ",(new Date).getFullYear()," Copyright:"," ",r.a.createElement("a",{href:"https://www.mdbootstrap.com"}," MyItinerary.com ")))))}}]),t}(n.Component),q=a(180),$=a(157),Q=a(158),X=a(159),Z=a(160),ee=a(161),te=a(162),ae=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,comments:""},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState({comments:e.target.value})},a.onSubmit=function(e,t){if(null==a.props.user.email)alert("you need tpo log in");else{var n=a.props.user.email,r=a.state.comments;console.log("comments",r),a.props.addComments(r,e,t,n),a.toggle()}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.itinerary;return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{variant:"primary",color:"primary",size:"sm",onClick:this.toggle},"Add Comment"),r.a.createElement(q.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement($.a,{toggle:this.toggle},"Add comment to the itinerary"),r.a.createElement(Q.a,null,r.a.createElement(X.a,null,r.a.createElement(Z.a,null,r.a.createElement(ee.a,{for:"comments"},"Write your comment "),r.a.createElement(te.a,{type:"text",id:"comments",onChange:this.onChange}),r.a.createElement(_.a,{color:"dark",block:!0,style:{marginTop:"2rem"},onClick:function(){return e.onSubmit(t.name,t._id)}},"Add Comments")))," "))))}}]),t}(n.Component),ne=Object(S.b)((function(e,t){return{comments:e.itineraries.comments,itineraries:e.itineraries.itineraries,user:e.users}}),(function(e){return{addComments:function(t,a,n,r){return e(function(e,t,a,n){return console.log("name",t),function(r){y.a.post("http://localhost:5000/api/itineraries/".concat(a,"/comments"),{comments:e,email:n}).then((function(e){console.log("response",e),200===e.status&&(r({type:"ADD_COMMENTS"}),r(D(t)))})).catch((function(e){console.log("error"+e.response),e.response&&(409===e.response.status?alert("problem with email"):alert("alert from comment action"))}))}}(t,a,n,r))}}}))(ae),re=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handelChange=function(t){console.log("e",t),e.setState(Object(w.a)({},t.target.id,t.target.value)),console.log("e.target.value",t.target.value),console.log("state",e.state)},e.handelSubmit=function(t){if(t.preventDefault(),e.props.user.isLoggedin)if(""===e.state.name||""===e.state.profile||""===e.state.activities)alert("You need to fill these fields");else{var a={name:e.state.name,profile:e.state.profile,rating:e.state.rating,hashtags:e.state.hashtags,activities:e.state.activities,duration:e.state.duration,price:e.state.price},n=localStorage.getItem("token");e.props.fetchNewItinerary(a,n),console.log("itinerary",a,n)}else alert(" you need to login")},e.state={name:null,profile:null,activities:[],hashtags:[],price:null,duration:null,rating:null},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card p-2 card-itinerary-add border-info",style:{width:"80%"}},r.a.createElement("form",{onSubmit:this.handelSubmit,className:"m-2"},r.a.createElement("div",{className:"align-items-center block"},r.a.createElement("label",{className:"mx-2 ",htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",id:"name",onChange:this.handelChange})," "),r.a.createElement("div",{className:"align-items-center block"},r.a.createElement("label",{className:"mx-2",htmlFor:"profile"},"profile"),r.a.createElement("input",{type:"url",id:"profile",onChange:this.handelChange})),r.a.createElement("div",{className:"align-items-center block"},r.a.createElement("label",{className:"mx-2",htmlFor:"duration"},"duration:"),r.a.createElement("input",{type:"text",id:"duration",onChange:this.handelChange})),r.a.createElement("div",{className:"align-items-center block"},r.a.createElement("label",{className:"mx-2",htmlFor:"rating"},"rating:"),r.a.createElement("input",{type:"number",id:"rating",onChange:this.handelChange})),r.a.createElement("div",{className:"align-items-center block"},r.a.createElement("label",{className:"mx-2",htmlFor:"activities"},"activites:"),r.a.createElement("input",{type:"text",id:"activites",onChange:this.handelChange})),r.a.createElement("div",{className:"align-items-center block"},r.a.createElement("label",{className:"mx-2",htmlFor:"hashtags"},"hashtags:"),r.a.createElement("input",{type:"text",id:"hashtags",onChange:this.handelChange})),r.a.createElement("div",{className:"align-items-center block"},r.a.createElement("label",{className:"mx-2 ",htmlFor:"price"},"price:"),r.a.createElement("input",{type:"text",id:"price",onChange:this.handelChange})),r.a.createElement("button",{className:"mx-2 btn-info",type:"submit"},"Add New Itinerary")))}}]),t}(n.Component),oe=Object(S.b)((function(e,t){return{cities:e.cities.cities,user:e.users,itineraries:e.itineraries.itineraries}}),(function(e){return{fetchNewItinerary:function(t,a){return e(function(e,t){return function(a){console.log("newitinerary :",e),console.log("token",t);var n={headers:{Authorization:t}};y.a.post("http://localhost:5000/api/itineraries/add",e,n).then((function(t){console.log("response",t),200===t.status&&(a({type:"ADD_ITINERARY"}),a(D(e.name)))})).catch((function(e){console.log("error"+e),e.response&&(409===e.response.status?alert("problem with email"):alert("error from add fetch",e))}))}}(t,a))}}}))(re),ie=a(178),le=a(181),ce=a(163),se=a(164),me=a(165),ue=a(179),pe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).handelChange=function(t){var a="#ffff00"===e.state.favColor?"#FF0000":"#ffff00";e.setState({favColor:a})},e.handelFavorite=function(t,a){if(null==e.props.user.email)alert("you need to log in");else{var n=e.props.user.email;e.props.fetchItinerariesFavorite(n,t,a)}},e.handelDeleteFavorite=function(t,a){if(null==e.props.user.email)alert("you need to log in");else{var n=e.props.user.email;console.log("emailAdded",n),e.props.fetchItinerariesDeleteFavorite(n,t,a)}},e.handelDeleteComment=function(t,a,n){e.props.fetchDeleteComment(n,t,a)},e.state={itineraries:[],favorites:[],favColor:"#ffff00",comments:[]},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.city;this.props.fetchItinerariesByCityName(e)}},{key:"filter",value:function(){return this.props.itineraries?this.props.itineraries.filter((function(e,t){return e.profile})):[]}},{key:"render",value:function(){var e=this,t=this.filter(),a=this.props.user.email;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"textSize display-2"},r.a.createElement("h3",null,"Our Itineraries")),t&&t.map((function(t,n){return r.a.createElement("div",{className:"container m-2 itinerary rounded",key:n,itinerary:t},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("h4",{className:"card-title pt-3 text-light col-6"},"Activities in ",t.name," : ",t.activities),r.a.createElement(T.a,{className:"pt-3",icon:U.a,size:"3x",style:t.favorites.includes(a)?{color:"red"}:{color:"#3986c3"},onClick:function(){return t.favorites.includes(a)?e.handelDeleteFavorite(t._id,t.name):e.handelFavorite(t._id,t.name)}})),r.a.createElement("img",{className:"card-body",src:t.profile,alt:t.name}),r.a.createElement("div",{className:"text-light pb-3"},r.a.createElement("h4",null,"The Price for ",t.duration," With Hotels"," ",t.price),r.a.createElement(ie.a,{defaultActiveKey:"0"},r.a.createElement(ie.a.Toggle,{as:le.a,variant:"outline-info",size:"sm",eventKey:"0","aria-controls":"example-fade-text"},"What Other Said"),r.a.createElement(ie.a.Collapse,{eventKey:"0"},r.a.createElement(r.a.Fragment,null,t.comments&&t.comments.map((function(n,o){return r.a.createElement("div",{key:o},r.a.createElement(ce.a,null,r.a.createElement(se.a,null,r.a.createElement(me.a,null,r.a.createElement(ue.a.Body,null,r.a.createElement(ue.a.Text,{className:"textColor"},n.msg),r.a.createElement("footer",{className:"blockquote-footer"},r.a.createElement("cite",{title:"Source Title"},"Written by")," ",n.email," "),r.a.createElement(le.a,{variant:"outline-danger",size:"sm","aria-controls":"example-fade-text",onClick:function(){return n.email&&n.email.includes(a)?e.handelDeleteComment(t.name,t._id,t.comments):alert("its not your comment")}},"Delete Comment"))))))}))))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(ne,{itinerary:t}))))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null)))}}]),t}(n.Component),he=Object(S.b)((function(e,t){return{itineraries:e.itineraries.itineraries,user:e.users,comments:e.itineraries.comments}}),(function(e){return{fetchItinerariesByCityName:function(t){return e(D(t))},fetchItinerariesFavorite:function(t,a,n){return e(x(t,a,n))},fetchItinerariesDeleteFavorite:function(t,a,n){return e(L(t,a,n))},fetchDeleteComment:function(t,a,n){return e(function(e,t,a){return console.log("name",t),function(n){y.a.delete("http://localhost:5000/api/itineraries/".concat(a,"/comments"),{comments:e}).then((function(e){console.log("response",e),200===e.status&&(n({type:"DELETE_COMMENTS"}),n(D(t)))})).catch((function(e){console.log("error"+e.response),e.response&&(409===e.response.status?alert("problem with email"):alert("alert from comment action"))}))}}(t,a,n))}}}))(pe),de=(a(151),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Not Found"))}}]),t}(n.Component)),fe=(a(152),a(166)),Ee=a(167),ge=a(168),ve=a(169),be=a(170),ye=a(171),Ce=a(172),Oe=a(182),Ne=a(173),je=a(174),Se=a(175),ke=a(176),Ie=a(177),we=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this))).state={isOpen:!1,search:"",user:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e={user:this.state.user};console.log(e),this.props.login(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluied"},r.a.createElement(fe.a,{className:"colorNav",dark:!0,expand:"sm"},r.a.createElement(l.b,{to:"/"},r.a.createElement(Ee.a,null,"MyItenarary")),r.a.createElement(ge.a,{onClick:function(){return e.setState({isOpen:!e.state.isOpen})}}),r.a.createElement(ve.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(be.a,{className:"mr-auto",navbar:!0},r.a.createElement(ye.a,{dark:"true"},r.a.createElement(Ce.a,null," ",r.a.createElement(l.b,{to:"/Cities",id:"RouterNavLink"},"Cities We Offer"))),r.a.createElement(ye.a,null,r.a.createElement(Ce.a,{href:"/AddCity"},"New City")),this.props.user.isLoggedin?r.a.createElement(Ce.a,{href:"/LogOut"}," Log Out"):r.a.createElement(Oe.a,{nav:!0,inNavbar:!0},r.a.createElement(Ne.a,{nav:!0,as:je.a,caret:!0},"Sign"),r.a.createElement(Se.a,{right:!0},r.a.createElement(ke.a,null," ",r.a.createElement(l.b,{to:"/Login"},"Login ")),r.a.createElement(ke.a,null,r.a.createElement(l.b,{to:"/Users"},"Sign Up "))))),r.a.createElement(X.a,{inline:!0},this.props.user.isLoggedin?r.a.createElement(l.b,{to:"/UserAccount"},r.a.createElement(Ie.a,{src:this.props.user.picture,style:{width:50},roundedCircle:!0})):r.a.createElement(l.b,{to:"/Login"},"Login")))))}}]),t}(n.Component),Fe=Object(S.b)((function(e,t){return{user:e.users}}),(function(e){return{login:function(t){return e(N(t))}}}))(we),Re=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.logUserOut()}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),Te=Object(S.b)((function(e){return{user:e.users}}),(function(e){return{logUserOut:function(){return e((function(e){y.a.get("http://localhost:3000/Landing"),localStorage.removeItem("token"),e({type:"LOGED_OUT"})}))}}}))(Re);var Ae=function(){return r.a.createElement(l.a,null,r.a.createElement(Fe,null),r.a.createElement("div",{className:"App"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:I}),r.a.createElement(c.a,{exact:!0,path:"/Users",component:R}),r.a.createElement(c.a,{path:"/UserAccount",component:Y}),r.a.createElement(c.a,{exact:!0,path:"/Login",component:z}),r.a.createElement(c.a,{path:"/LogOut",component:Te}),r.a.createElement(c.a,{exact:!0,path:"/Cities",component:P}),r.a.createElement(c.a,{exact:!0,path:"/AddCity",component:V}),r.a.createElement(c.a,{exact:!0,path:"/Itineraries",component:he}),r.a.createElement(c.a,{exact:!0,path:"/Itineraries/all/:city",component:he}),r.a.createElement(c.a,{component:de})),r.a.createElement(J,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(89),De=a(30),xe=a(90),Le=a(91),Ue=a(18),Me={cities:[],err:""};var Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CITIES_SUCCESS":return Object(Ue.a)({},e,{cities:t.payload,err:""});case"FETCH_CITIES_ERROR":return Object(Ue.a)({},e,{err:t.payload});case"ADD_CITY":return Object(Ue.a)({},e,{cities:[].concat(Object(Le.a)(e.cities),[t.payload])});default:return e}},He={itineraries:[],err:"",favorites:[],favoriteitineraries:[]};var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITINERARIES_SUCCESS":return Object(Ue.a)({},e,{itineraries:t.payload,err:""});case"FETCH_ITINERARIES_ERROR":return console.log("FETCH_ITINERARIES_ERROR",t),Object(Ue.a)({},e,{err:t.payload});case"ADD_ITINERARY":return Object(Ue.a)({},e);case"ADD_ITINERARY_FAVORITE":return console.log("ADD_ITINERARY_FAVORITE"),Object(Ue.a)({},e);case"DELETE_ITINERARY_FAVORITE":return console.log("DELETE_ITINERARY_FAVORITE"),Object(Ue.a)({},e);case"FETCH_PROFILE_ITINERARY":return console.log("FETCH_PROFILE_ITINERARY",t.payload),Object(Ue.a)({},e,{favoriteitineraries:t.payload});case"ADD_COMMENTS":return console.log("ADD_COMMENTS",t),Object(Ue.a)({},e);case"DELETE_COMMENTS":return Object(Ue.a)({},e);default:return e}},We={token:"",isLoggedin:!1,users:[],picture:"",err:""};var Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(console.log("user action",t),t.type){case"FETCH_USERS_SUCCESS":return console.log("FETCH_USERS_SUCCESS",t),Object(Ue.a)({},e,{users:t.payload,err:""});case"FETCH_USERS_ERROR":return console.log("FETCH_USERS_ERROR",t),Object(Ue.a)({},e,{err:t.payload.data});case"LOGIN_SUCCESS":return Object(Ue.a)({},e,{token:t.token,users:t.payload.name,favorites:t.payload.favorites,picture:t.payload.picture,email:t.payload.email,isLoggedin:!0});case"LOGED_OUT":return Object(Ue.a)({},e,{isLoggedin:!1,token:null});default:return e}},Pe=Object(De.combineReducers)({cities:Ye,itineraries:ze,users:Be}),Ge=Object(De.createStore)(Pe,Object(_e.composeWithDevTools)(Object(De.applyMiddleware)(xe.a)));i.a.render(r.a.createElement(S.a,{store:Ge},r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){e.exports=a.p+"static/media/Circle.16fd0ef3.png"},95:function(e,t,a){e.exports=a(153)}},[[95,1,2]]]);
//# sourceMappingURL=main.a2847d0a.chunk.js.map